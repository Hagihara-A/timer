(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{134:function(e,t,n){e.exports=n(184)},184:function(e,t,n){"use strict";n.r(t);var a=n(120),r=n(226),i=n(221),c=n(0),o=n.n(c),d=n(14),l=n.n(d),m=n(17),u=n(25),s=n(24),p=n(227),f=n(185),h=n(74),E=n(219),v="FLATTEN_TREE",b="ADD_TIMER",y="REMOVE_ITEM",C="EDIT_TIMER",O="EDIT_SECTION",g="ON_DRAG_END",x="TOGGLE_PROPERTY",j="ADD_TIME",I="FORWARD_FOCUS",T=function(){return{type:j,payload:{}}},L=function(e,t){return{type:C,payload:{editItemId:e,data:t}}},k=n(210),w=n(225),S=n(215),N=n(216),D=n(222),R=n(217),P=n(218),_=Object(k.a)({root:{margin:"10px"}}),A=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,r=_(),i=Object(c.useState)(0),d=Object(s.a)(i,2),l=d[0],m=d[1],u=Object(c.useState)(0),p=Object(s.a)(u,2),f=p[0],h=p[1];return o.a.createElement(w.a,{open:t,onClose:n},o.a.createElement(S.a,null,"Input new Timer"),o.a.createElement(N.a,null,o.a.createElement(D.a,{value:l,onChange:function(e){return m(Number(e.target.value))},variant:"outlined",label:"TimeLimit",inputProps:{type:"number",min:1},className:r.root}),o.a.createElement("br",null),o.a.createElement(D.a,{value:f,onChange:function(e){return h(Number(e.target.value))},variant:"outlined",label:"Power",inputProps:{type:"number",min:1},className:r.root}),o.a.createElement("br",null)),o.a.createElement(R.a,null,o.a.createElement(P.a,{onClick:function(){l>0&&f>0&&a({power:f,timeLimit:l,comment:""}),n()}},"OK!")))},M=function(e){return"repeat"in e&&"count"in e&&!("timeLimit"in e)},W=function(e){return"elapsedTime"in e&&"power"in e&&!("repeat"in e)},J=Object(E.a)(f.a),z=function(){var e=Object(m.d)((function(e){return e.timers.timerList})),t=Object(m.d)((function(e){return e.timers.currentTimerIndex})),n=Object(h.a)(e.length,e.map((function(e,n){return{fontSize:n===t?"2rem":"1rem"}}))).map((function(t,n){var a=e[n].item;if(M(a.data)){var r=a.data,i=r.repeat,c=r.count;return o.a.createElement(J,{style:t,key:a.id},"".concat(c,"/ ").concat(i))}var d=a.data,l=d.timeLimit,m=d.power,u=d.elapsedTime;return o.a.createElement(J,{style:t,key:a.id},"".concat(u," /  ").concat(l," sec @ ").concat(m," W"))}));return o.a.createElement("div",{style:{textAlign:"center"}},n)},B=n(220),F=n(107),G=n.n(F),H=n(109),K=n.n(H),U=n(108),V=n.n(U),Y=n(106),$=n.n(Y),q=Object(k.a)({root:{fontSize:"5rem"}}),Q=function(e){var t=e.onClickStart,n=e.onClickSkip,a=e.onClickStop,r=e.onClickReset,i=q(),d=Object(c.useState)(!1),l=Object(s.a)(d,2),m=l[0],u=l[1];return o.a.createElement("div",{className:i.root},m?o.a.createElement(B.a,{onClick:function(){a(),u(!m)}},o.a.createElement($.a,{className:i.root,color:"primary"})):o.a.createElement(B.a,{onClick:function(){t(),u(!m)}},o.a.createElement(G.a,{className:i.root,color:"primary"})),o.a.createElement(B.a,{onClick:n},o.a.createElement(V.a,{className:i.root,color:"primary"})),o.a.createElement(B.a,{onClick:r},o.a.createElement(K.a,{className:i.root,color:"primary"})))},X=n(78),Z=n(223),ee=n(113),te=n.n(ee),ne=n(114),ae=n.n(ne),re=n(79),ie=function(e){var t=e.value,n=e.onChange,a=e.inputProps,r=Object(c.useState)(!1),i=Object(s.a)(r,2),d=i[0],l=i[1];return o.a.createElement("span",null,d?o.a.createElement(D.a,{value:t,inputProps:a,onChange:n,onKeyDown:function(e){13===e.keyCode&&l(!d)},onBlur:function(){l(!1)}}):o.a.createElement("span",{onClick:function(){return l(!d)}},"\xa0 ",t," \xa0"))},ce=function(e){var t=e.id,n=e.data.repeat,a=Object(m.c)();return o.a.createElement("span",null,o.a.createElement(ie,{value:n,onChange:function(e){a(function(e,t){return{type:O,payload:{editItemId:e,data:t}}}(t,{repeat:Number(e.target.value)}))},inputProps:{type:"number",min:1}})," Times")},oe=function(e){var t=e.id,n=e.data,a=Object(m.c)(),r=n.power,i=n.timeLimit;return o.a.createElement("span",null,o.a.createElement(ie,{value:i,onChange:function(e){a(L(t,{timeLimit:Number(e.target.value)}))},inputProps:{type:"number",min:1}}),"Sec @",o.a.createElement(ie,{value:r,onChange:function(e){a(L(t,{power:Number(e.target.value)}))},inputProps:{type:"number",min:1}})," W")},de=function(e){var t=e.itemId,n=Object(m.d)((function(e){return e.tree.items[t]})),a=n.data;return M(a)?o.a.createElement(ce,{id:n.id,data:a}):W(a)?o.a.createElement(oe,{id:n.id,data:a}):void 0};function le(){var e=Object(X.a)(["\n  border-radius: 2px;\n  margin: 1px 0;\n  background-color: hsl(",", 50%, 50%);\n"]);return le=function(){return e},e}function me(){var e=Object(X.a)(["\n  max-width: 300px;\n  margin: auto;\n"]);return me=function(){return e},e}var ue=re.a.div(me()),se=re.a.div(le(),(function(e){return 40-15*e.depth})),pe=function(e){var t=e.item,n=e.onExpand,a=e.onCollapse;e.depth;return t.children&&t.children.length>0?t.isExpanded?o.a.createElement(te.a,{onClick:function(){return a(t.id)},color:"primary"}):o.a.createElement(ae.a,{onClick:function(){return n(t.id)},color:"primary"}):o.a.createElement("span",null," \u2022 ")},fe=function(e){var t=e.item,n=e.depth,a=e.onExpand,r=e.onCollapse,i=e.provided;e.snapshot;return o.a.createElement(se,Object.assign({ref:i.innerRef},i.draggableProps,i.dragHandleProps,{depth:n}),o.a.createElement(pe,{item:t,onExpand:a,onCollapse:r,depth:n}),o.a.createElement(de,{itemId:t.id}))},he=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.tree})),n=function(t){e({type:x,payload:{id:t,prop:"isExpanded"}})};return o.a.createElement(ue,null,o.a.createElement(Z.a,{tree:t,renderItem:fe,isDragEnabled:!0,isNestingEnabled:!0,onCollapse:n,onExpand:n,onDragEnd:function(t,n){e(function(e,t){return{type:g,payload:{source:e,destination:t}}}(t,n))}}))},Ee=n(118),ve=n.n(Ee),be=n(119),ye=n.n(be),Ce=Object(k.a)({root:{fontSize:"5rem"}}),Oe=function(e){var t=e.onClickAdd,n=e.onClickComplete,a=Ce();return o.a.createElement("div",null,o.a.createElement(B.a,{onClick:t},o.a.createElement(ve.a,{className:a.root,color:"primary"})),o.a.createElement(B.a,{onClick:n},o.a.createElement(ye.a,{className:a.root,color:"primary"})))},ge=Object(p.a)((function(e){var t=e.children;return o.a.createElement(f.a,{variant:"h1",align:"center"},t)}))({lineHeight:"initial"}),xe=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(s.a)(r,2),d=i[0],l=i[1],p=function(){return a(!n)},f=function(){return l(!d)},y=Object(m.c)(),C=function(){y({type:v}),p()},O=Object(c.useRef)(),g=function(){O.current=setInterval((function(){return y(T())}),1e3)},x=function(){clearInterval(O.current),y({type:I}),O.current=setInterval((function(){return y(T())}),1e3)},j=function(){clearInterval(O.current),p()},L=function(){clearInterval(O.current)};-1===Object(m.d)((function(e){return e.timers.currentTimerIndex}))&&clearInterval(O.current);var k=Object(h.b)(n,null,{from:{opacity:0,xy:n?[-100,0]:[100,0]},enter:{opacity:1,xy:[0,0]},leave:{opacity:0,xy:n?[50,0]:[-50,0]}}).map((function(e){var t=e.item,n=e.key,a=e.props;return o.a.createElement("div",{key:n},o.a.createElement(E.a.div,{style:Object(u.a)({},a,{transform:a.xy.to((function(e,t){return 0===e&&0===t?"none":"translate(".concat(e,"%, ").concat(t,"%)")})),position:"absolute",left:0,right:0})},t?o.a.createElement(he,null):o.a.createElement(z,null)),o.a.createElement(E.a.div,{style:{opacity:a.opacity,position:"fixed",width:"100%",textAlign:"center",bottom:"10px"}},t?o.a.createElement(Oe,{onClickAdd:f,onClickComplete:C}):o.a.createElement(Q,{onClickStart:g,onClickSkip:x,onClickStop:L,onClickReset:j})))}));return o.a.createElement("div",null,o.a.createElement(ge,null,"Training Timer"),k,o.a.createElement(A,{open:d,onClose:f,onSubmit:function(e){var t,n,a=e.timeLimit,r=e.power;y((t="root",n={power:r,timeLimit:a,comment:""},{type:b,payload:Object(u.a)({parentId:t},n)}))}}))},je=function(){return o.a.createElement(xe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=n(63),Te=n(71),Le=n(42),ke={tree:{rootId:"root",items:{root:{id:"root",children:["0","1","2","3"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1},0:{id:"0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:130,comment:""}},1:{id:"1",children:["1-0","1-1"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,data:{repeat:1,count:0,comment:""}},"1-0":{id:"1-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:260,comment:""}},"1-1":{id:"1-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:260,comment:""}},2:{id:"2",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:5,power:260,comment:""}},3:{id:"3",children:["3-0","3-1","3-2"],hasChildren:!1,isExpanded:!0,isChildrenLoading:!1,data:{repeat:1,count:0,comment:""}},"3-0":{id:"3-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:150,comment:""}},"3-1":{id:"3-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:150,comment:""}},"3-2":{id:"3-2",children:["3-2-0","3-2-1"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,data:{repeat:1,comment:"",count:0}},"3-2-0":{id:"3-2-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:150,comment:""}},"3-2-1":{id:"3-2-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:150,comment:""}}}},timers:void 0};ke.timers={currentTimerIndex:0,timerList:Object(Te.flattenTree)(ke.tree)};var we=n(21),Se=function(e,t){return e.findIndex((function(e,n){return!!(n>t&&W(e.item.data))}))},Ne=function(e,t){return e.length>t.length&&t.every((function(t,n){return t===e[n]}))},De=function(e,t){return e.length===t.length&&e.every((function(n,a){return e[a]===t[a]}))},Re=function(e,t){var n=function(e,t){return e.find((function(e){return De(e.path,t)}))}(e,t).item;return M(n.data)?n.data.repeat===n.data.count:n.data.elapsedTime===n.data.timeLimit},Pe=function(e,t){var n=function(e,t){return e.reduce((function(e,n,a){return Ne(t,n.path)?e.concat(a):e}),[])}(e,t).reverse(),a=!0,r=!1,i=void 0;try{for(var c,o=n[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var d=e[c.value];if(!Re(e,d.path)&&M(d.item.data))return d.item.data.count++,d.item.data.count===d.item.data.repeat?void 0:d.path}}catch(l){r=!0,i=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}},_e=Object(Le.a)((function(e,t){switch(t.type){case I:e.currentTimerIndex=Se(e.timerList,e.currentTimerIndex);break;case j:var n=e.currentTimerIndex,a=e.timerList[n],r=a.item,i=a.path;if(!W(r.data))throw new TypeError("currentTimerIndex:".concat(e.currentTimerIndex,"  indecates Section"));if(Re(e.timerList,i)||r.data.elapsedTime++,Re(e.timerList,i))if(function(e,t){var n=t.length-1,a=Object(we.a)(t);a.splice(n,1,t[n]+1);var r=e.find((function(e){return De(e.path,a)}));return"undefined"===typeof r||!W(r.item.data)}(e.timerList,i)){var c=Pe(e.timerList,i);"undefined"===typeof c?e.currentTimerIndex=Se(e.timerList,n):(!function(e,t){for(var n in e){var a=e[n];Ne(a.path,t)&&(W(a.item.data)?a.item.data.elapsedTime=0:a.item.data.count=0)}}(e.timerList,c),e.currentTimerIndex=(o=e.timerList,d=c,o.findIndex((function(e){return Ne(e.path,d)&&W(e.item.data)}))))}else e.currentTimerIndex=Se(e.timerList,n)}var o,d}),ke.timers),Ae=n(122),Me=n(52),We={id:void 0,children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1},Je=function(e,t){for(var n=Object.keys(e.items).length-1,a=[],r=n;r<t+n;r++)a.push(String(r));return a},ze=function(e,t){if("undefined"===typeof t.index)return e.items[t.parentId];var n=e.items[t.parentId].children[t.index];return e.items[n]},Be=Object(Le.a)((function(e,t){switch(t.type){case b:var n=t.payload,a=n.parentId,r=Object(Ae.a)(n,["parentId"]);!function(e,t,n){var a=Je(e,1)[0],r=Object(Le.a)(We,(function(e){e.id=a,e.data=Object(u.a)({elapsedTime:0,comment:""},n)}));e.items[t].children.push(a),e.items[a]=r}(e,a,Object(u.a)({},r));break;case y:var i=t.payload.source,c=i.parentId,o=i.index,d=function e(t,n){return t.items[n].children.reduce((function(n,a){return t.items[a].children.length>0?n.concat(e(t,a)):[].concat(Object(we.a)(n),[a])}),[n])}(e,e.items[c].children[o]);e.items[c].children.splice(o,1);var l=!0,m=!1,s=void 0;try{for(var p,f=d[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var h=p.value;delete e.items[h]}}catch(B){m=!0,s=B}finally{try{l||null==f.return||f.return()}finally{if(m)throw s}}break;case C:var E=t.payload,v=E.editItemId,j=E.data,I=e.items[v].data,T=Object(u.a)({},I,{},j);if(!W(T))throw new TypeError("data:".concat(JSON.stringify(T)," must be TimerTreeItemData"));e.items[v].data=T;break;case O:var L=t.payload,k=L.editItemId,w=L.data,S=e.items[k].data,N=Object(u.a)({},S,{},w);if(!M(N))throw new TypeError("data:".concat(JSON.stringify(w)," must be SectionTreeItemData"));e.items[k].data=N;break;case g:var D=t.payload.source,R=t.payload.destination,P=ze(e,R);if(!R)break;if("undefined"===typeof R.index&&W(P.data)){!function(e,t,n){var a=ze(e,n),r=ze(e,t),i=Je(e,1)[0],c=Object(u.a)({},We,{id:i,data:{repeat:1,count:0,comment:""},children:[a.id,r.id]}),o=Object.values(e.items).find((function(e){return e.children.some((function(e){return e===a.id}))})),d=o.id;o.children.findIndex((function(e){return e===a.id}));e.items[t.parentId].children=e.items[t.parentId].children.filter((function(e){return e!==r.id})),e.items[d].children=e.items[d].children.map((function(e){return e===a.id?i:e})),e.items[i]=c}(e,D,R);break}return Object(Me.c)(e,D,R);case x:var _=t.payload,A=_.id,J=_.prop,z=e.items[A][J];e.items[A][J]=!z}})),Fe=Object(Le.a)((function(e,t){switch(t.type){case v:e.timers.timerList=Object(Te.flattenTree)(e.tree),e.timers.currentTimerIndex=e.timers.timerList.findIndex((function(e){return W(e.item.data)}));break;default:e.timers=_e(e.timers,t),e.tree=Be(e.tree,t)}}),ke),Ge=Object(Ie.b)(Fe),He=Object(a.a)({palette:{primary:{main:"#f55333"},secondary:{main:"#062457"}}});He=Object(r.a)(He);l.a.render(o.a.createElement((function(){return o.a.createElement(m.a,{store:Ge},o.a.createElement(i.a,{theme:He},o.a.createElement(je,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[134,1,2]]]);
//# sourceMappingURL=main.83a9655b.chunk.js.map