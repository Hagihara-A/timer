{"version":3,"sources":["actions.ts","components/AddTimerDialog.tsx","utils.ts","components/Timer/TimerList.tsx","components/Timer/TimerListButtons.tsx","components/Tree/EditableContent.tsx","components/Tree/TimerTree.tsx","components/Tree/TimerTreeButtons.tsx","components/main.tsx","serviceWorker.js","initState.ts","reducers/timersReducer.ts","reducers/treeReducer.ts","reducers/rootReducer.ts","store.js","index.tsx"],"names":["actionTypes","addTime","type","payload","editTimer","editItemId","data","useStyles","makeStyles","root","margin","AddTimerDialog","open","onClose","onSubmit","classes","useState","times","setTimes","timeLimit","setTimeLimit","power","setPower","Dialog","DialogTitle","DialogContent","TextField","value","onChange","e","Number","target","variant","label","inputProps","min","className","DialogActions","Button","onClick","isSection","isTimer","AnimatedTyporaphy","animated","Typography","TimerList","timers","useSelector","state","timerList","focus","currentTimerIndex","ListItems","useSprings","length","map","_","index","fontSize","spring","idx","item","repeat","count","style","key","id","elapsedTime","textAlign","useIconStyles","TimerListIcons","onClickStart","onClickSkip","onClickStop","onClickReset","isElapsing","setIsElapsing","IconButton","color","EditableInput","isEditing","setIsEditing","onKeyDown","keyCode","onBlur","EditableSection","dispatch","useDispatch","editSection","EditableTimer","EditableContent","itemId","tree","items","TreeContainer","styled","div","ItemContainer","props","depth","Icon","onExpand","onCollapse","children","isExpanded","renderItem","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","TimerTree","toggleIsExpanded","prop","Tree","isDragEnabled","isNestingEnabled","onDragEnd","source","destination","onDragEndAction","TimerTreeIcons","onClickAdd","onClickComplete","Heading","align","lineHeight","TimerApp","isTree","setIsTree","isOpenModal","setIsOpenModal","toggleIsTree","toggleIsOpen","slideToTimerList","timerId","useRef","startTimerDispatch","current","setInterval","skipTimerDisparch","clearInterval","resetTimerDispatch","stopTimerDispatch","View","useTransition","from","opacity","xy","enter","leave","transform","to","x","y","position","left","right","width","bottom","parentId","treeItemData","comment","Main","Boolean","window","location","hostname","match","initState","rootId","hasChildren","isChildrenLoading","undefined","flattenTree","nextFocus","slice","findIndex","v","timersReducer","produce","draft","action","AT","currTimer","TypeError","nextTimerIdx","initTreeItem","getNewItemIds","numIds","startNum","Object","keys","newIds","i","push","String","getItemFromPosition","treeReducer","newId","newItem","setNewItemOnTree","allChildIds","getAllChildrenIds","parentItemId","reduce","accum","concat","splice","originalData","newData","JSON","stringify","src","dst","dstItem","srcItem","newSectionId","newSection","dstParentItem","values","find","some","dstItemPosition","combineTwoTimersIntoSection","moveItemOnTree","flag","rootReducer","store","createStore","theme","createMuiTheme","palette","primary","main","secondary","responsiveFontSizes","ReactDOM","render","ThemeProvider","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5c9f4441.chunk.js","sourcesContent":["import {\n  ItemId,\n  TreeDestinationPosition,\n  TreeSourcePosition\n} from \"@atlaskit/tree\";\nimport { EditableSectionData, EditableTimerData } from \"./types\";\n\nexport const actionTypes = {\n  ADD_TIME: \"ADD_TIME\",\n  // for rootReducer\n  FLATTEN_TREE: \"FLATTEN_TREE\",\n  CHANGE_FOCUS: \"CHANGE_FOCUS\",\n  // for treeReducer\n  ADD_TIMER: \"ADD_TIMER\",\n  REMOVE_ITEM: \"REMOVE_ITEM\",\n  EDIT_TIMER: \"EDIT_TIMER\",\n  EDIT_SECTION: \"EDIT_SECTION\",\n  ON_DRAG_END: \"ON_DRAG_END\",\n  TOGGLE_PROPERTY: \"TOGGLE_PROPERTY\"\n} as const;\n\nexport const addTime = () => {\n  return {\n    type: actionTypes.ADD_TIME,\n    payload: {}\n  };\n};\n\nexport const forwardCurrentTimerIndex = () => {\n  return {\n    type: actionTypes.CHANGE_FOCUS\n  };\n};\nexport const addTimer = (parentId: ItemId, treeItemData: EditableTimerData) => {\n  return {\n    type: actionTypes.ADD_TIMER,\n    payload: {\n      parentId,\n      ...treeItemData\n    }\n  };\n};\nexport const removeItem = (source: TreeSourcePosition) => {\n  return {\n    type: actionTypes.REMOVE_ITEM,\n    payload: {\n      source\n    }\n  };\n};\nexport const editTimer = (\n  editItemId: ItemId,\n  data: Partial<EditableTimerData>\n) => {\n  return {\n    type: actionTypes.EDIT_TIMER,\n    payload: {\n      editItemId,\n      data\n    }\n  };\n};\n\nexport const editSection = (\n  editItemId: ItemId,\n  data: Partial<EditableSectionData>\n) => {\n  return {\n    type: actionTypes.EDIT_SECTION,\n    payload: {\n      editItemId,\n      data\n    }\n  };\n};\nexport const onDragEnd = (\n  source: TreeSourcePosition,\n  destination: TreeDestinationPosition\n) => {\n  return {\n    type: actionTypes.ON_DRAG_END,\n    payload: {\n      source,\n      destination\n    }\n  };\n};\n\nexport const toggleProperty = (\n  id: ItemId,\n  prop: \"isExpanded\" | \"isChildrenLoading\" | \"hasChildren\"\n) => {\n  return {\n    type: actionTypes.TOGGLE_PROPERTY,\n    payload: {\n      id,\n      prop\n    }\n  };\n};\n\nexport const parseTreeToTimers = () => {\n  return {\n    type: actionTypes.FLATTEN_TREE\n  };\n};\n","import {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  makeStyles,\n  DialogActions,\n  Button\n} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nconst useStyles = makeStyles({\n  root: {\n    margin: \"10px\"\n  }\n});\nexport const AddTimerDialog = ({\n  open,\n  onClose,\n  onSubmit\n}: {\n  open: boolean;\n  onClose: () => void;\n  onSubmit: (times: number, time: number, power: number) => void;\n}) => {\n  const classes = useStyles();\n  const [times, setTimes] = useState(0);\n  const [timeLimit, setTimeLimit] = useState(0);\n  const [power, setPower] = useState(0);\n\n  const onClickOK = () => {\n    if (times > 0 && timeLimit > 0 && power > 0) {\n      onSubmit(times, timeLimit, power);\n    }\n    onClose();\n  };\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Input new Timer</DialogTitle>\n      <DialogContent>\n        <TextField\n          value={times}\n          onChange={e => setTimes(Number(e.target.value))}\n          variant=\"outlined\"\n          label=\"Repeat\"\n          inputProps={{\n            type: \"number\",\n            min: 1\n          }}\n          className={classes.root}\n        />\n        <br />\n        <TextField\n          value={timeLimit}\n          onChange={e => setTimeLimit(Number(e.target.value))}\n          variant=\"outlined\"\n          label=\"TimeLimit\"\n          inputProps={{ type: \"number\", min: 1 }}\n          className={classes.root}\n        />\n        <br />\n        <TextField\n          value={power}\n          onChange={e => setPower(Number(e.target.value))}\n          variant=\"outlined\"\n          label=\"Power\"\n          inputProps={{ type: \"number\", min: 1 }}\n          className={classes.root}\n        />\n        <br />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClickOK}>OK!</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import { SectionTreeItemData, TimerTreeItemData, TreeItemData } from \"./types\";\n\nexport const isSection = (data: TreeItemData): data is SectionTreeItemData => {\n  if (\"repeat\" in data && \"count\" in data && !(\"timeLimit\" in data))\n    return true;\n  else return false;\n};\n\nexport const isTimer = (data: TreeItemData): data is TimerTreeItemData => {\n  if (\"elapsedTime\" in data && \"power\" in data && !(\"repeat\" in data))\n    return true;\n  else return false;\n};\n","import { Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { animated, useSprings } from \"react-spring\";\nimport { State } from \"../../types\";\nimport { isSection } from \"../../utils\";\n\nconst AnimatedTyporaphy = animated(Typography);\n\nexport const TimerList = () => {\n  const timers = useSelector((state: State) => state.timers.timerList);\n  const focus = useSelector((state: State) => state.timers.currentTimerIndex);\n\n  const springs = useSprings(\n    timers.length,\n    timers.map((_, index) => {\n      return {\n        fontSize: index === focus ? \"2rem\" : \"1rem\"\n      };\n    })\n  );\n\n  const ListItems = springs.map((spring, idx) => {\n    const item = timers[idx].item;\n    if (isSection(item.data)) {\n      // must be Section\n      const { repeat, count } = item.data;\n      return (\n        <AnimatedTyporaphy style={spring} key={item.id}>\n          {`${count}/ ${repeat}`}\n        </AnimatedTyporaphy>\n      );\n    } else {\n      const { timeLimit, power, elapsedTime } = item.data;\n      return (\n        <AnimatedTyporaphy style={spring} key={item.id}>\n          {`${elapsedTime} /  ${timeLimit} sec @ ${power} W`}\n        </AnimatedTyporaphy>\n      );\n    }\n  });\n  return <div style={{ textAlign: \"center\" }}>{ListItems}</div>;\n};\n","import { IconButton, makeStyles } from \"@material-ui/core\";\nimport PlayCircleFilledWhiteIcon from \"@material-ui/icons/PlayCircleFilledWhite\";\nimport RotateLeftIcon from \"@material-ui/icons/RotateLeft\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport StopIcon from \"@material-ui/icons/Stop\";\nimport React, { useState } from \"react\";\n\nconst useIconStyles = makeStyles({\n  root: {\n    fontSize: \"5rem\"\n  }\n});\n\nexport const TimerListIcons = ({\n  onClickStart,\n  onClickSkip,\n  onClickStop,\n  onClickReset\n}: {\n  onClickStart: () => void;\n  onClickSkip: () => void;\n  onClickStop: () => void;\n  onClickReset: () => void;\n}) => {\n  const classes = useIconStyles();\n  const [isElapsing, setIsElapsing] = useState(false);\n  return (\n    <div className={classes.root}>\n      {isElapsing ? (\n        <IconButton\n          onClick={() => {\n            onClickStop();\n            setIsElapsing(!isElapsing);\n          }}\n        >\n          <StopIcon className={classes.root} color=\"primary\" />\n        </IconButton>\n      ) : (\n        <IconButton\n          onClick={() => {\n            onClickStart();\n            setIsElapsing(!isElapsing);\n          }}\n        >\n          <PlayCircleFilledWhiteIcon className={classes.root} color=\"primary\" />\n        </IconButton>\n      )}\n\n      <IconButton onClick={onClickSkip}>\n        <SkipNextIcon className={classes.root} color=\"primary\" />\n      </IconButton>\n      <IconButton onClick={onClickReset}>\n        <RotateLeftIcon className={classes.root} color=\"primary\" />\n      </IconButton>\n    </div>\n  );\n};\n","import { ItemId } from \"@atlaskit/tree\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { editSection, editTimer } from \"../../actions\";\nimport { SectionTreeItemData, State, TimerTreeItemData } from \"../../types\";\nimport { isSection, isTimer } from \"../../utils\";\n\nconst EditableInput = ({\n  value,\n  onChange,\n  inputProps\n}: {\n  value: string | number;\n  onChange: any;\n  inputProps?: any;\n}) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const onKeyDown = e => {\n    if (e.keyCode === 13) {\n      setIsEditing(!isEditing);\n    }\n  };\n  const onBlur = () => {\n    setIsEditing(false);\n  };\n  const onClick = () => setIsEditing(!isEditing);\n  return (\n    <span>\n      {isEditing ? (\n        <TextField\n          value={value}\n          inputProps={inputProps}\n          onChange={onChange}\n          onKeyDown={onKeyDown}\n          onBlur={onBlur}\n        />\n      ) : (\n        <span onClick={onClick}>&nbsp; {value} &nbsp;</span>\n      )}\n    </span>\n  );\n};\n\nconst EditableSection = ({\n  id,\n  data\n}: {\n  id: ItemId;\n  data: SectionTreeItemData;\n}) => {\n  const { repeat } = data;\n  const dispatch = useDispatch();\n  const onChange = e => {\n    dispatch(editSection(id, { repeat: Number(e.target.value) }));\n  };\n  return (\n    <span>\n      <EditableInput\n        value={repeat}\n        onChange={onChange}\n        inputProps={{ type: \"number\", min: 1 }}\n      />\n      {\" Times\"}\n    </span>\n  );\n};\n\nconst EditableTimer = ({\n  id,\n  data\n}: {\n  id: ItemId;\n  data: TimerTreeItemData;\n}) => {\n  const dispatch = useDispatch();\n\n  const { power, timeLimit } = data;\n\n  const onChangeTimeLimit = e => {\n    dispatch(editTimer(id, { timeLimit: Number(e.target.value) }));\n  };\n  const onChangePower = e => {\n    dispatch(editTimer(id, { power: Number(e.target.value) }));\n  };\n  return (\n    <span>\n      <EditableInput\n        value={timeLimit}\n        onChange={onChangeTimeLimit}\n        inputProps={{ type: \"number\", min: 1 }}\n      />\n      {\"Sec @\"}\n      <EditableInput\n        value={power}\n        onChange={onChangePower}\n        inputProps={{ type: \"number\", min: 1 }}\n      />\n      {\" W\"}\n    </span>\n  );\n};\n\nconst EditableContent = ({ itemId }: { itemId: ItemId }) => {\n  const item = useSelector((state: State) => state.tree.items[itemId]);\n  const { data } = item;\n  if (isSection(data)) {\n    return <EditableSection id={item.id} data={data} />;\n  } else if (isTimer(data)) {\n    return <EditableTimer id={item.id} data={data} />;\n  }\n};\n\nexport default EditableContent;\n","import Tree, {\n  ItemId,\n  RenderItemParams,\n  TreeDestinationPosition,\n  TreeSourcePosition\n} from \"@atlaskit/tree\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport {\n  onDragEnd as onDragEndAction,\n  removeItem,\n  toggleProperty\n} from \"../../actions\";\nimport { State } from \"../../types\";\nimport EditableContent from \"./EditableContent\";\nconst TreeContainer = styled.div`\n  max-width: 300px;\n  margin: auto;\n`;\nconst ItemContainer = styled.div<any>`\n  border-radius: 2px;\n  margin: 1px 0;\n  background-color: hsl(${props => 40 - props.depth * 15}, 50%, 50%);\n`;\nconst Icon = ({ item, onExpand, onCollapse, depth }) => {\n  if (item.children && item.children.length > 0) {\n    return item.isExpanded ? (\n      <ArrowDropDownIcon onClick={() => onCollapse(item.id)} color=\"primary\" />\n    ) : (\n      <ArrowRightIcon onClick={() => onExpand(item.id)} color=\"primary\" />\n    );\n  } else {\n    return <span> &bull; </span>;\n  }\n};\n\nconst renderItem = ({\n  item,\n  depth,\n  onExpand,\n  onCollapse,\n  provided,\n  snapshot\n}: RenderItemParams) => {\n  return (\n    <ItemContainer\n      ref={provided.innerRef}\n      {...provided.draggableProps}\n      {...provided.dragHandleProps}\n      depth={depth}\n    >\n      <Icon\n        item={item}\n        onExpand={onExpand}\n        onCollapse={onCollapse}\n        depth={depth}\n      />\n      <EditableContent itemId={item.id} />\n    </ItemContainer>\n  );\n};\n\nconst TimerTree = () => {\n  const dispatch = useDispatch();\n  const tree = useSelector((state: State) => state.tree);\n\n  const toggleIsExpanded = (itemId: ItemId) => {\n    dispatch(toggleProperty(itemId, \"isExpanded\"));\n  };\n  const onDragEnd = (\n    source: TreeSourcePosition,\n    destination: TreeDestinationPosition\n  ) => {\n    // if (!destination) dispatch(removeItem(source));\n    dispatch(onDragEndAction(source, destination));\n  };\n\n  return (\n    <TreeContainer>\n      <Tree\n        tree={tree}\n        renderItem={renderItem}\n        isDragEnabled\n        isNestingEnabled\n        onCollapse={toggleIsExpanded}\n        onExpand={toggleIsExpanded}\n        onDragEnd={onDragEnd}\n      />\n    </TreeContainer>\n  );\n};\n\nexport default TimerTree;\n","import { IconButton, makeStyles } from \"@material-ui/core\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport React from \"react\";\n\nconst useIconStyles = makeStyles({\n  root: {\n    fontSize: \"5rem\"\n  }\n});\n\nexport const TimerTreeIcons = ({\n  onClickAdd,\n  onClickComplete\n}: {\n  onClickAdd: () => void;\n  onClickComplete: () => void;\n}) => {\n  const classes = useIconStyles();\n  return (\n    <div>\n      <IconButton onClick={onClickAdd}>\n        <AddCircleIcon className={classes.root} color=\"primary\" />\n      </IconButton>\n      <IconButton onClick={onClickComplete}>\n        <CheckCircleIcon className={classes.root} color=\"primary\" />\n      </IconButton>\n    </div>\n  );\n};\n","import { styled, Typography } from \"@material-ui/core\";\nimport React, { useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { animated, useTransition } from \"react-spring\";\nimport {\n  addTimer as addTimerAct,\n  parseTreeToTimers,\n  forwardCurrentTimerIndex,\n  addTime\n} from \"../actions\";\nimport { AddTimerDialog } from \"./AddTimerDialog\";\nimport { TimerList } from \"./Timer/TimerList\";\nimport { TimerListIcons } from \"./Timer/TimerListButtons\";\nimport TimerTree from \"./Tree/TimerTree\";\nimport { TimerTreeIcons } from \"./Tree/TimerTreeButtons\";\n\nconst Heading = styled(({ children }) => (\n  <Typography variant=\"h1\" align=\"center\">\n    {children}\n  </Typography>\n))({\n  lineHeight: \"initial\"\n});\n\nconst TimerApp = () => {\n  const [isTree, setIsTree] = useState(true);\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const toggleIsTree = () => setIsTree(!isTree);\n  const toggleIsOpen = () => setIsOpenModal(!isOpenModal);\n\n  const dispatch = useDispatch();\n  // TimerTreeButton callback\n  const addTimer = (timeLimit: number, power: number) => {\n    dispatch(addTimerAct(\"root\", { power, timeLimit, comment: \"\" }));\n  };\n\n  const slideToTimerList = () => {\n    dispatch(parseTreeToTimers());\n    toggleIsTree();\n  };\n\n  // TimerList callback\n  let timerId = useRef<number>();\n  const startTimerDispatch = () => {\n    timerId.current = setInterval(() => dispatch(addTime()), 1000);\n  };\n\n  const skipTimerDisparch = () => {\n    clearInterval(timerId.current);\n    dispatch(forwardCurrentTimerIndex());\n    timerId.current = setInterval(() => dispatch(addTime()), 1000);\n  };\n\n  const resetTimerDispatch = () => {\n    clearInterval(timerId.current);\n    toggleIsTree();\n  };\n\n  const stopTimerDispatch = () => {\n    clearInterval(timerId.current);\n  };\n\n  const transitions = useTransition(isTree, null, {\n    from: {\n      opacity: 0,\n      xy: isTree ? [-100, 0] : [100, 0]\n    },\n    enter: { opacity: 1, xy: [0, 0] },\n    leave: {\n      opacity: 0,\n      xy: isTree ? [50, 0] : [-50, 0]\n    }\n  });\n\n  const View = transitions.map(({ item, key, props }) => {\n    return (\n      <div key={key}>\n        <animated.div\n          style={{\n            ...props,\n            transform: props.xy.to((x, y) =>\n              x === 0 && y === 0 ? \"none\" : `translate(${x}%, ${y}%)`\n            ),\n            position: \"absolute\",\n            left: 0,\n            right: 0\n          }}\n        >\n          {item ? <TimerTree /> : <TimerList />}\n        </animated.div>\n\n        <animated.div\n          style={{\n            opacity: props.opacity,\n            position: \"fixed\",\n            width: \"100%\",\n            textAlign: \"center\",\n            bottom: \"10px\"\n          }}\n        >\n          {item ? (\n            <TimerTreeIcons\n              onClickAdd={toggleIsOpen}\n              onClickComplete={slideToTimerList}\n            />\n          ) : (\n            <TimerListIcons\n              onClickStart={startTimerDispatch}\n              onClickSkip={skipTimerDisparch}\n              onClickStop={stopTimerDispatch}\n              onClickReset={resetTimerDispatch}\n            />\n          )}\n        </animated.div>\n      </div>\n    );\n  });\n\n  return (\n    <div>\n      <Heading>Training Timer</Heading>\n      {View}\n      <AddTimerDialog\n        open={isOpenModal}\n        onClose={toggleIsOpen}\n        onSubmit={addTimer}\n      />\n    </div>\n  );\n};\n\nexport const Main = () => <TimerApp />;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { flattenTree } from \"@atlaskit/tree/dist/cjs/utils/tree\";\nimport { MutableState } from \"./types\";\n\nexport const initState: MutableState = {\n  tree: {\n    rootId: \"root\",\n    items: {\n      root: {\n        id: \"root\",\n        children: [\"0\", \"1\", \"2\", \"3\"],\n        hasChildren: true,\n        isExpanded: true,\n        isChildrenLoading: false\n      },\n      \"0\": {\n        id: \"0\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 3,\n          power: 130,\n          comment: \"\"\n        }\n      },\n      \"1\": {\n        id: \"1\",\n        children: [\"1-0\", \"1-1\"],\n        hasChildren: true,\n        isExpanded: true,\n        isChildrenLoading: false,\n        data: {\n          repeat: 1,\n          count: 0,\n          comment: \"\"\n        }\n      },\n      \"1-0\": {\n        id: \"1-0\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 2,\n          power: 260,\n          comment: \"\"\n        }\n      },\n      \"1-1\": {\n        id: \"1-1\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 2,\n          power: 260,\n          comment: \"\"\n        }\n      },\n      \"2\": {\n        id: \"2\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 5,\n          power: 260,\n          comment: \"\"\n        }\n      },\n      \"3\": {\n        id: \"3\",\n        children: [\"3-0\", \"3-1\", \"3-2\"],\n        hasChildren: false,\n        isExpanded: true,\n        isChildrenLoading: false,\n        data: {\n          repeat: 1,\n          count: 0,\n          comment: \"\"\n        }\n      },\n      \"3-0\": {\n        id: \"3-0\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 2,\n          power: 150,\n          comment: \"\"\n        }\n      },\n      \"3-1\": {\n        id: \"3-1\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 2,\n          power: 150,\n          comment: \"\"\n        }\n      },\n      \"3-2\": {\n        id: \"3-2\",\n        children: [\"3-2-0\", \"3-2-1\"],\n        hasChildren: true,\n        isExpanded: true,\n        isChildrenLoading: false,\n        data: {\n          repeat: 1,\n          comment: \"\",\n          count: 0\n        }\n      },\n      \"3-2-0\": {\n        id: \"3-2-0\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 3,\n          power: 150,\n          comment: \"\"\n        }\n      },\n      \"3-2-1\": {\n        id: \"3-2-1\",\n        children: [],\n        hasChildren: false,\n        isExpanded: false,\n        isChildrenLoading: false,\n        data: {\n          elapsedTime: 0,\n          timeLimit: 3,\n          power: 150,\n          comment: \"\"\n        }\n      }\n    }\n  },\n  timers: undefined\n};\n\ninitState.timers = {\n  currentTimerIndex: 0,\n  timerList: flattenTree(initState.tree)\n};\n","import produce, { Draft } from \"immer\";\nimport { actionTypes as AT } from \"../actions\";\nimport { initState } from \"../initState\";\nimport { Action, TimersListData, TimerList } from \"../types\";\nimport { isTimer } from \"../utils\";\n\nexport const nextFocus = (timerList: TimerList, focus: number) => {\n  return (\n    timerList.slice(focus + 1).findIndex(v => isTimer(v.item.data)) + focus + 1\n  );\n};\nexport const timersReducer = produce(\n  (draft: Draft<TimersListData>, action: Action) => {\n    switch (action.type) {\n      case AT.CHANGE_FOCUS: {\n        draft.currentTimerIndex = nextFocus(\n          draft.timerList,\n          draft.currentTimerIndex\n        );\n        break;\n      }\n      case AT.ADD_TIME: {\n        const focus = draft.currentTimerIndex;\n        const currTimer = draft.timerList[focus].item;\n        if (isTimer(currTimer.data)) {\n          if (currTimer.data.elapsedTime < currTimer.data.timeLimit) {\n            currTimer.data.elapsedTime++;\n          }\n          // do focus++ until item is Timer\n          if (currTimer.data.elapsedTime >= currTimer.data.timeLimit) {\n            const nextTimerIdx = nextFocus(draft.timerList, focus);\n            draft.currentTimerIndex = nextTimerIdx;\n          }\n        } else {\n          throw new TypeError(\n            `currentTimerIndex:${draft.currentTimerIndex}  indecates Section`\n          );\n        }\n        break;\n      }\n      default:\n        break;\n    }\n  },\n  initState.timers\n);\n","import {\n  ItemId,\n  moveItemOnTree,\n  TreeDestinationPosition,\n  TreeSourcePosition\n} from \"@atlaskit/tree\";\nimport produce, { Draft } from \"immer\";\nimport { actionTypes as AT } from \"../actions\";\nimport {\n  Action,\n  EditableTimerData,\n  SectionTreeItemData,\n  TreeData,\n  TreeItem\n} from \"../types\";\nimport { isSection, isTimer } from \"../utils\";\n\nconst initTreeItem: TreeItem = {\n  id: undefined,\n  children: [],\n  hasChildren: false,\n  isExpanded: false,\n  isChildrenLoading: false\n};\n\nexport const getNewItemIds = (tree: TreeData, numIds: number) => {\n  const startNum = Object.keys(tree.items).length - 1;\n  const newIds: ItemId[] = [];\n  for (let i = startNum; i < numIds + startNum; i++) {\n    newIds.push(String(i));\n  }\n  return newIds;\n};\n\nexport const setNewItemOnTree = (\n  tree: TreeData,\n  parentId: ItemId,\n  data: EditableTimerData\n) => {\n  const newId = getNewItemIds(tree, 1)[0];\n  const newItem = produce(initTreeItem, draft => {\n    draft.id = newId;\n    draft.data = {\n      elapsedTime: 0,\n      comment: \"\",\n      ...data\n    };\n  });\n  tree.items[parentId].children.push(newId);\n  tree.items[newId] = newItem;\n};\nexport const getAllChildrenIds = (\n  tree: TreeData,\n  parentItemId: ItemId\n): ItemId[] => {\n  return tree.items[parentItemId].children.reduce(\n    (accum, id) => {\n      if (tree.items[id].children.length > 0) {\n        return accum.concat(getAllChildrenIds(tree, id));\n      } else {\n        return [...accum, id];\n      }\n    },\n    [parentItemId]\n  );\n};\n\nexport const getItemFromPosition = (\n  tree: TreeData,\n  position: TreeDestinationPosition\n) => {\n  if (typeof position.index === \"undefined\") {\n    return tree.items[position.parentId];\n  } else {\n    const id = tree.items[position.parentId].children[position.index];\n    return tree.items[id];\n  }\n};\nexport const combineTwoTimersIntoSection = (\n  tree: TreeData,\n  src: TreeSourcePosition,\n  dst: TreeDestinationPosition\n) => {\n  // construct new section\n  const dstItem = getItemFromPosition(tree, dst);\n  const srcItem = getItemFromPosition(tree, src);\n  const newSectionId = getNewItemIds(tree, 1)[0];\n  const newSectionData: SectionTreeItemData = {\n    repeat: 1,\n    count: 0,\n    comment: \"\"\n  };\n  const newSection = {\n    ...initTreeItem,\n    id: newSectionId,\n    data: newSectionData,\n    children: [dstItem.id, srcItem.id]\n  };\n\n  const dstParentItem = Object.values(tree.items).find(item =>\n    item.children.some(id => id === dstItem.id)\n  );\n  const dstItemPosition = {\n    parentId: dstParentItem.id,\n    index: dstParentItem.children.findIndex(id => id === dstItem.id)\n  };\n\n  // remove src deps\n  tree.items[src.parentId].children.splice(src.index, 1);\n  // replace dstItem.id to newSection\n  tree.items[dstItemPosition.parentId].children.splice(\n    dstItemPosition.index,\n    1,\n    newSectionId\n  );\n\n  // add newSection\n  tree.items[newSectionId] = newSection;\n};\nexport const treeReducer = produce((tree: Draft<TreeData>, action: Action) => {\n  switch (action.type) {\n    case AT.ADD_TIMER: {\n      const { parentId, ...data } = action.payload;\n      setNewItemOnTree(tree, parentId, { ...data });\n      break;\n    }\n    case AT.REMOVE_ITEM: {\n      const { parentId, index } = action.payload.source;\n\n      const allChildIds = getAllChildrenIds(\n        tree,\n        tree.items[parentId].children[index]\n      );\n      tree.items[parentId].children.splice(index, 1);\n\n      for (const id of allChildIds) {\n        delete tree.items[id];\n      }\n      break;\n    }\n    case AT.EDIT_TIMER: {\n      const { editItemId, data } = action.payload;\n      const originalData = tree.items[editItemId].data;\n      const newData = { ...originalData, ...data };\n      if (isTimer(newData)) {\n        tree.items[editItemId].data = newData;\n      } else {\n        throw new TypeError(\n          `data:${JSON.stringify(newData)} must be TimerTreeItemData`\n        );\n      }\n      break;\n    }\n    case AT.EDIT_SECTION: {\n      const { editItemId, data } = action.payload;\n      const originalData = tree.items[editItemId].data;\n      const newData = { ...originalData, ...data };\n      if (isSection(newData)) {\n        tree.items[editItemId].data = newData;\n      } else {\n        throw new TypeError(\n          `data:${JSON.stringify(data)} must be SectionTreeItemData`\n        );\n      }\n      break;\n    }\n    case AT.ON_DRAG_END: {\n      const src = action.payload.source;\n      const dst = action.payload.destination;\n\n      const dstItem = getItemFromPosition(tree, dst);\n\n      if (!dst) break;\n\n      if (typeof dst.index === \"undefined\" && isTimer(dstItem.data)) {\n        combineTwoTimersIntoSection(tree, src, dst);\n        break;\n      } else {\n        return moveItemOnTree(tree, src, dst);\n      }\n    }\n    case AT.TOGGLE_PROPERTY: {\n      const { id, prop } = action.payload;\n\n      const flag = tree.items[id][prop];\n      tree.items[id][prop] = !flag;\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n});\n","import { flattenTree } from \"@atlaskit/tree/dist/cjs/utils/tree\";\nimport produce, { Draft } from \"immer\";\nimport { actionTypes as AT } from \"../actions\";\nimport { initState } from \"../initState\";\nimport { Action, State } from \"../types\";\nimport { timersReducer } from \"./timersReducer\";\nimport { treeReducer } from \"./treeReducer\";\n\n// Child reducer should return draft state passed from parent reducer.\n// It doen't make a difference between `return draft` and `break`.Former is preferred.\nexport const rootReducer = produce((draft: Draft<State>, action: Action) => {\n  switch (action.type) {\n    case AT.FLATTEN_TREE: {\n      draft.timers.timerList = flattenTree(draft.tree);\n      break;\n    }\n    default: {\n      draft.timers = timersReducer(draft.timers, action);\n      draft.tree = treeReducer(draft.tree, action);\n      break;\n    }\n  }\n}, initState);\n","import { createStore } from \"redux\";\nimport { rootReducer } from \"./reducers/rootReducer\";\n\nexport const store = createStore(rootReducer);\n","import { createMuiTheme, responsiveFontSizes } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { Main } from \"./components/main\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { store } from \"./store\";\nlet theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#f55333\"\n    },\n    secondary: {\n      main: \"#062457\"\n    }\n  }\n});\n\ntheme = responsiveFontSizes(theme);\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <Main />\n      </ThemeProvider>\n    </Provider>\n  );\n};\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}