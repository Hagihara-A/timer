(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{115:function(e,n,t){e.exports=t(161)},161:function(e,n,t){"use strict";t.r(n);var a=t(103),i=t(204),r=t(199),c=t(0),o=t.n(c),d=t(9),l=t.n(d),u=t(11),m=t(34),s=t(162),p=t(31),f="ADD_TIMER",h="REMOVE_ITEM",E="EDIT_TIMER",b="EDIT_SECTION",v="ON_DRAG_END",y="TOGGLE_PROPERTY",O="ADD_TIME",C="CLEANSE_TREE",g="TOGGLE_IS_DRAG_ENABLED",j=function(e,n){return{type:E,payload:{editItemId:e,data:n}}},I=t(189),T=t(203),w=t(194),k=t(195),x=t(200),L=t(196),S=t(197),D=Object(I.a)({root:{margin:"10px"}}),N=function(e){var n=e.open,t=e.onClose,a=e.onSubmit,i=D(),r=Object(c.useState)(0),d=Object(m.a)(r,2),l=d[0],u=d[1],s=Object(c.useState)(0),p=Object(m.a)(s,2),f=p[0],h=p[1];return o.a.createElement(T.a,{open:n,onClose:t},o.a.createElement(w.a,null,"Input new Timer"),o.a.createElement(k.a,null,o.a.createElement(x.a,{value:l,onChange:function(e){return u(Number(e.target.value))},variant:"outlined",label:"TimeLimit",inputProps:{type:"number",min:1},className:i.root}),o.a.createElement("br",null),o.a.createElement(x.a,{value:f,onChange:function(e){return h(Number(e.target.value))},variant:"outlined",label:"Power",inputProps:{type:"number",min:1},className:i.root}),o.a.createElement("br",null)),o.a.createElement(L.a,null,o.a.createElement(S.a,{onClick:function(){l>0&&f>0&&a({power:f,timeLimit:l,comment:""}),t()}},"OK!")))},P=t(198),R=t(95),_=t.n(R),A=t(96),z=t.n(A),F=t(94),G=t.n(F),M=t(20),J=t(92),W=t.n(J),B=t(93),H=t.n(B),K=t(21);function V(){var e=Object(M.a)(["\n  animation: "," 1s ease;\n  display: flex;\n  justify-content: space-around;\n"]);return V=function(){return e},e}function Y(){var e=Object(M.a)(["\n  from{\n    opacity: 0;\n  }\n  to{\n    opacity: 1;\n  }\n"]);return Y=function(){return e},e}var $=Object(K.b)(Y()),q=K.a.div(V(),$),Q=function(e){var n=e.onClickAdd,t=e.onClickComplete;return o.a.createElement(q,null,o.a.createElement("div",null,o.a.createElement(P.a,{onClick:n},o.a.createElement(W.a,{color:"primary",style:{fontSize:"5rem"}})),o.a.createElement(P.a,{onClick:t},o.a.createElement(H.a,{color:"primary",style:{fontSize:"5rem"}}))))},U=function(e){var n=e.onClickStart,t=e.onClickStop,a=e.onClickReset,i=Object(c.useState)(!1),r=Object(m.a)(i,2),d=r[0],l=r[1];return o.a.createElement(q,null,o.a.createElement("div",null,d?o.a.createElement(P.a,{onClick:function(){t(),l(!d)}},o.a.createElement(G.a,{color:"primary",style:{fontSize:"5rem"}})):o.a.createElement(P.a,{onClick:function(){n(),l(!d)}},o.a.createElement(_.a,{color:"primary",style:{fontSize:"5rem"}})),o.a.createElement(P.a,{onClick:a},o.a.createElement(z.a,{color:"primary",style:{fontSize:"5rem"}}))))},X=t(201),Z=t(97),ee=t.n(Z),ne=t(99),te=t.n(ne),ae=t(98),ie=t.n(ae),re=function(e){return"repeat"in e&&"count"in e&&!("timeLimit"in e)},ce=function(e){return"elapsedTime"in e&&"power"in e&&!("repeat"in e)};function oe(){var e=Object(M.a)(["\n  width: 55px;\n"]);return oe=function(){return e},e}var de={type:"number",min:1},le=Object(K.a)(x.a)(oe()),ue=function(e){var n=e.id,t=e.data,a=t.repeat,i=t.count,r=Object(u.c)(),c=Object(u.d)((function(e){return e.options.isDragEnabled}));return o.a.createElement(o.a.Fragment,null,c?o.a.createElement(o.a.Fragment,null,o.a.createElement(le,{value:a,inputProps:de,onChange:function(e){r(function(e,n){return{type:b,payload:{editItemId:e,data:n}}}(n,{repeat:Number(e.target.value)}))}}),"Times"):"".concat(i,"  /  ").concat(a))},me=function(e){var n=e.id,t=e.data,a=Object(u.c)(),i=Object(u.d)((function(e){return e.options.isDragEnabled})),r=t.power,c=t.timeLimit,d=t.elapsedTime;return o.a.createElement(o.a.Fragment,null,i?o.a.createElement(o.a.Fragment,null,o.a.createElement(le,{value:c,inputProps:de,onChange:function(e){a(j(n,{timeLimit:Number(e.target.value)}))}}),"Sec @",o.a.createElement(le,{value:r,inputProps:de,onChange:function(e){a(j(n,{power:Number(e.target.value)}))}})," W"):"".concat(d," / ").concat(c,"  Sec @ ").concat(r," W"))},se=function(e){var n=e.itemId,t=Object(u.d)((function(e){return e.tree.items[n]})),a=t.data;return re(a)?o.a.createElement(ue,{id:t.id,data:a}):ce(a)?o.a.createElement(me,{id:t.id,data:a}):void 0};function pe(){var e=Object(M.a)(["\n  vertical-align: text-bottom;\n"]);return pe=function(){return e},e}function fe(){var e=Object(M.a)(["\n  opacity: 0;\n  :hover {\n    opacity: 1;\n  }\n  transition: opacity 0.1s 0s ease;\n"]);return fe=function(){return e},e}function he(){var e=Object(M.a)(["\n  border-radius: 2px;\n  margin: 1px 0;\n  background-color: ",";\n  display: flex;\n  justify-content: space-between;\n"]);return he=function(){return e},e}function Ee(){var e=Object(M.a)(["\n  max-width: 20%;\n  margin: auto;\n"]);return Ee=function(){return e},e}var be=K.a.div(Ee()),ve=K.a.div(he(),(function(e){return function(e){var n=e.powerPerFTP;return n<.75?"#338cff":n<.9?"#59bf59":n<1.05?"#ffcc3f":n<1.2?"#ff6639":n<1.5?"#ff330c":"#7d7c78"}(e)})),ye=Object(K.a)(ee.a)(fe()),Oe=Object(K.a)((function(e){var n,t=e.item,a=e.onExpand,i=e.onCollapse;return(null===t||void 0===t||null===(n=t.children)||void 0===n?void 0:n.length)>0?t.isExpanded?o.a.createElement(ie.a,{onClick:function(){return i(t.id)},color:"secondary"}):o.a.createElement(te.a,{onClick:function(){return a(t.id)},color:"secondary"}):o.a.createElement("span",null," \u2022 ")}))(pe()),Ce=function(){var e=Object(u.c)(),n=Object(u.d)((function(e){return e.tree})),t=Object(u.d)((function(e){return e.options.isDragEnabled})),a=function(n){e({type:y,payload:{id:n,prop:"isExpanded"}})},i=function(n){e(function(e){return{type:h,payload:{id:e}}}(n))};return o.a.createElement(be,null,o.a.createElement(X.a,{tree:n,renderItem:function(e){var n=e.item,t=e.onExpand,a=e.onCollapse,r=e.provided;return o.a.createElement(ve,Object.assign({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{powerPerFTP:n.data.power/250}),o.a.createElement("div",null,o.a.createElement(Oe,{item:n,onExpand:t,onCollapse:a}),o.a.createElement(se,{itemId:n.id})),o.a.createElement(P.a,{onClick:function(){return i(n.id)},size:"small"},o.a.createElement(ye,null)))},isDragEnabled:t,isNestingEnabled:!0,onCollapse:a,onExpand:a,onDragEnd:function(n,t){e(function(e,n){return{type:v,payload:{source:e,destination:n}}}(n,t))}}))},ge=function(){var e=Object(u.d)((function(e){return e.options.isDragEnabled})),n=Object(c.useState)(!1),t=Object(m.a)(n,2),a=t[0],i=t[1],r=function(){return i(!a)},d=Object(u.c)(),l=function(){d({type:C}),d({type:g})},h=Object(c.useRef)();return o.a.createElement("div",null,o.a.createElement(s.a,{variant:"h1",paragraph:!0,align:"center"},"Training Timer"),o.a.createElement(Ce,null),e?o.a.createElement(Q,{onClickAdd:r,onClickComplete:l}):o.a.createElement(U,{onClickStart:function(){h.current=setInterval((function(){return d({type:O,payload:{}})}),1e3)},onClickStop:function(){clearInterval(h.current)},onClickReset:function(){clearInterval(h.current),l()}}),o.a.createElement(N,{open:a,onClose:r,onSubmit:function(e){var n,t,a=e.timeLimit,i=e.power;d((n="root",t={power:i,timeLimit:a,comment:""},{type:f,payload:Object(p.a)({parentId:n},t)}))}}))},je=function(){return o.a.createElement(ge,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=t(17),Te=t(105),we=t(62),ke=(t(104),t(42)),xe=t(49),Le={isDragEnabled:!0},Se={rootId:"root",items:{root:{id:"root",children:["0","1","2","3"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1},0:{id:"0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:130,comment:""}},1:{id:"1",children:["1-0","1-1"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,data:{repeat:1,count:0,comment:""}},"1-0":{id:"1-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:260,comment:""}},"1-1":{id:"1-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:260,comment:""}},2:{id:"2",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:5,power:260,comment:""}},3:{id:"3",children:["3-0","3-1","3-2"],hasChildren:!1,isExpanded:!0,isChildrenLoading:!1,data:{repeat:2,count:0,comment:""}},"3-0":{id:"3-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:150,comment:""}},"3-1":{id:"3-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:150,comment:""}},"3-2":{id:"3-2",children:["3-2-0","3-2-1"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,data:{repeat:2,comment:"",count:0}},"3-2-0":{id:"3-2-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:150,comment:""}},"3-2-1":{id:"3-2-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:150,comment:""}}}},De={id:void 0,children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1},Ne=function(e,n){for(var t=Object.keys(e.items).length-1,a=[],i=t;i<n+t;i++)a.push(String(i));return a},Pe=function(e,n){if("undefined"===typeof n.index)return e.items[n.parentId];var t=e.items[n.parentId].children[n.index];return e.items[t]},Re=function(e){return re(e.data)?e.data.count>=e.data.repeat:e.data.elapsedTime>=e.data.timeLimit},_e=function e(n){var t=Ae(n,n.rootId);if("undefined"!==typeof t){var a=n.items[t];ce(a.data)?a.data.elapsedTime++:(a.data.count++,Re(a)||function e(n,t){var a,i=n.items[t],r=Object(we.a)(i.children);try{for(r.s();!(a=r.n()).done;){var c=a.value,o=n.items[c];ce(o.data)?o.data.elapsedTime=0:(o.data.count=0,e(n,o.id))}}catch(d){r.e(d)}finally{r.f()}}(n,a.id));var i=Ae(n,n.rootId);i&&re(n.items[i].data)&&e(n)}},Ae=function e(n,t){var a,i=n.items[t].children,r=Object(we.a)(i);try{for(r.s();!(a=r.n()).done;){var c=a.value,o=n.items[c],d=!Re(o);if(ce(o.data)&&d)return o.id;if(re(o.data)){var l=e(n,o.id);if("undefined"!==typeof l)return l;if(d)return o.id}}}catch(u){r.e(u)}finally{r.f()}},ze=function e(n,t){var a,i=Object(we.a)(t);try{for(i.s();!(a=i.n()).done;){var r=a.value,c=n.items[r];delete n.items[r],re(c.data)&&e(n,c.children)}}catch(o){i.e(o)}finally{i.f()}},Fe=Object(xe.a)((function(e,n){switch(n.type){case f:var t=n.payload,a=t.parentId,i=Object(Te.a)(t,["parentId"]);!function(e,n,t){var a=Ne(e,1)[0],i=Object(xe.a)(De,(function(e){e.id=a,e.data=Object(p.a)({elapsedTime:0,comment:""},t)}));e.items[n].children.push(a),e.items[a]=i}(e,a,Object(p.a)({},i));break;case h:!function(e,n){var t=e.items[n];delete e.items[n];var a=Object.values(e.items).find((function(e){return e.children.includes(n)})),i=a.id,r=a.children.findIndex((function(e){return e===n}));e.items[i].children.splice(r,1),e.items[i].hasChildren=e.items[i].children.length>0,ze(e,t.children)}(e,n.payload.id);break;case E:var r=n.payload,c=r.editItemId,o=r.data,d=e.items[c].data,l=Object(p.a)({},d,{},o);if(!ce(l))throw new TypeError("data:".concat(JSON.stringify(l)," must be TimerTreeItemData"));e.items[c].data=l;break;case b:var u=n.payload,m=u.editItemId,s=u.data,g=e.items[m].data,j=Object(p.a)({},g,{},s);if(!re(j))throw new TypeError("data:".concat(JSON.stringify(s)," must be SectionTreeItemData"));e.items[m].data=j;break;case v:var I=n.payload.source,T=n.payload.destination;if(!T)break;var w=Pe(e,T);if("undefined"===typeof T.index&&ce(w.data)){!function(e,n,t){var a=Pe(e,t),i=Pe(e,n),r=Ne(e,1)[0],c=Object(p.a)({},De,{id:r,data:{repeat:1,count:0,comment:""},children:[a.id,i.id]}),o=Object.values(e.items).find((function(e){return e.children.some((function(e){return e===a.id}))})),d=o.id;o.children.findIndex((function(e){return e===a.id}));e.items[n.parentId].children=e.items[n.parentId].children.filter((function(e){return e!==i.id})),e.items[d].children=e.items[d].children.map((function(e){return e===a.id?r:e})),e.items[r]=c}(e,I,T);break}return Object(ke.c)(e,I,T);case y:var k=n.payload,x=k.id,L=k.prop,S=e.items[x][L];e.items[x][L]=!S;break;case C:!function(e){for(var n=function(){var n=a[t],i=e.items[n];if(0===i.children.length&&re(i.data)){var r=Object.values(e.items).find((function(e){return e.children.includes(i.id)})),c=r.id,o=r.children.findIndex((function(e){return e===i.id}));e.items[c].children.splice(o,1),delete e.items[n]}},t=0,a=Object.keys(e.items);t<a.length;t++)n()}(e);break;case O:_e(e)}}),Se),Ge=Le,Me=Object(xe.a)((function(e,n){switch(n.type){case g:e.isDragEnabled=!e.isDragEnabled}}),Ge),Je=Object(Ie.c)({tree:Fe,options:Me}),We=Object(Ie.e)(Je),Be=Object(a.a)({palette:{primary:{main:"#f55333"},secondary:{main:"#062457"}}});Be=Object(i.a)(Be);var He=function(){return o.a.createElement(u.a,{store:We},o.a.createElement(r.a,{theme:Be},o.a.createElement(je,null)))};l.a.render(o.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[115,1,2]]]);
//# sourceMappingURL=main.d0ec54b0.chunk.js.map