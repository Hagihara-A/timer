(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{134:function(e,t,n){e.exports=n(184)},184:function(e,t,n){"use strict";n.r(t);var a=n(120),r=n(226),i=n(221),c=n(0),o=n.n(c),l=n(14),d=n.n(l),m=n(17),u=n(25),s=n(24),p=n(227),f=n(185),h=n(74),E=n(219),b="ADD_TIME",v="FLATTEN_TREE",y="CHANGE_FOCUS",C="ADD_TIMER",O="REMOVE_ITEM",g="EDIT_TIMER",j="EDIT_SECTION",x="ON_DRAG_END",I="TOGGLE_PROPERTY",T=function(){return{type:b,payload:{}}},k=function(e,t){return{type:g,payload:{editItemId:e,data:t}}},L=n(210),w=n(225),S=n(215),N=n(216),D=n(222),P=n(217),R=n(218),_=Object(L.a)({root:{margin:"10px"}}),A=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,r=_(),i=Object(c.useState)(0),l=Object(s.a)(i,2),d=l[0],m=l[1],u=Object(c.useState)(0),p=Object(s.a)(u,2),f=p[0],h=p[1],E=Object(c.useState)(0),b=Object(s.a)(E,2),v=b[0],y=b[1];return o.a.createElement(w.a,{open:t,onClose:n},o.a.createElement(S.a,null,"Input new Timer"),o.a.createElement(N.a,null,o.a.createElement(D.a,{value:d,onChange:function(e){return m(Number(e.target.value))},variant:"outlined",label:"Repeat",inputProps:{type:"number",min:1},className:r.root}),o.a.createElement("br",null),o.a.createElement(D.a,{value:f,onChange:function(e){return h(Number(e.target.value))},variant:"outlined",label:"TimeLimit",inputProps:{type:"number",min:1},className:r.root}),o.a.createElement("br",null),o.a.createElement(D.a,{value:v,onChange:function(e){return y(Number(e.target.value))},variant:"outlined",label:"Power",inputProps:{type:"number",min:1},className:r.root}),o.a.createElement("br",null)),o.a.createElement(P.a,null,o.a.createElement(R.a,{onClick:function(){d>0&&f>0&&v>0&&a(d,f,v),n()}},"OK!")))},M=function(e){return"repeat"in e&&"count"in e&&!("timeLimit"in e)},G=function(e){return"elapsedTime"in e&&"power"in e&&!("repeat"in e)},J=Object(E.a)(f.a),W=function(){var e=Object(m.d)((function(e){return e.timers.timerList})),t=Object(m.d)((function(e){return e.timers.currentTimerIndex})),n=Object(h.a)(e.length,e.map((function(e,n){return{fontSize:n===t?"2rem":"1rem"}}))).map((function(t,n){var a=e[n].item;if(M(a.data)){var r=a.data,i=r.repeat,c=r.count;return o.a.createElement(J,{style:t,key:a.id},"".concat(c,"/ ").concat(i))}var l=a.data,d=l.timeLimit,m=l.power,u=l.elapsedTime;return o.a.createElement(J,{style:t,key:a.id},"".concat(u," /  ").concat(d," sec @ ").concat(m," W"))}));return o.a.createElement("div",{style:{textAlign:"center"}},n)},z=n(220),B=n(107),H=n.n(B),F=n(109),K=n.n(F),U=n(108),V=n.n(U),Y=n(106),$=n.n(Y),q=Object(L.a)({root:{fontSize:"5rem"}}),Q=function(e){var t=e.onClickStart,n=e.onClickSkip,a=e.onClickStop,r=e.onClickReset,i=q(),l=Object(c.useState)(!1),d=Object(s.a)(l,2),m=d[0],u=d[1];return o.a.createElement("div",{className:i.root},m?o.a.createElement(z.a,{onClick:function(){a(),u(!m)}},o.a.createElement($.a,{className:i.root,color:"primary"})):o.a.createElement(z.a,{onClick:function(){t(),u(!m)}},o.a.createElement(H.a,{className:i.root,color:"primary"})),o.a.createElement(z.a,{onClick:n},o.a.createElement(V.a,{className:i.root,color:"primary"})),o.a.createElement(z.a,{onClick:r},o.a.createElement(K.a,{className:i.root,color:"primary"})))},X=n(78),Z=n(223),ee=n(113),te=n.n(ee),ne=n(114),ae=n.n(ne),re=n(79),ie=function(e){var t=e.value,n=e.onChange,a=e.inputProps,r=Object(c.useState)(!1),i=Object(s.a)(r,2),l=i[0],d=i[1];return o.a.createElement("span",null,l?o.a.createElement(D.a,{value:t,inputProps:a,onChange:n,onKeyDown:function(e){13===e.keyCode&&d(!l)},onBlur:function(){d(!1)}}):o.a.createElement("span",{onClick:function(){return d(!l)}},"\xa0 ",t," \xa0"))},ce=function(e){var t=e.id,n=e.data.repeat,a=Object(m.c)();return o.a.createElement("span",null,o.a.createElement(ie,{value:n,onChange:function(e){a(function(e,t){return{type:j,payload:{editItemId:e,data:t}}}(t,{repeat:Number(e.target.value)}))},inputProps:{type:"number",min:1}})," Times")},oe=function(e){var t=e.id,n=e.data,a=Object(m.c)(),r=n.power,i=n.timeLimit;return o.a.createElement("span",null,o.a.createElement(ie,{value:i,onChange:function(e){a(k(t,{timeLimit:Number(e.target.value)}))},inputProps:{type:"number",min:1}}),"Sec @",o.a.createElement(ie,{value:r,onChange:function(e){a(k(t,{power:Number(e.target.value)}))},inputProps:{type:"number",min:1}})," W")},le=function(e){var t=e.itemId,n=Object(m.d)((function(e){return e.tree.items[t]})),a=n.data;return M(a)?o.a.createElement(ce,{id:n.id,data:a}):G(a)?o.a.createElement(oe,{id:n.id,data:a}):void 0};function de(){var e=Object(X.a)(["\n  border-radius: 2px;\n  margin: 1px 0;\n  background-color: hsl(",", 50%, 50%);\n"]);return de=function(){return e},e}function me(){var e=Object(X.a)(["\n  max-width: 300px;\n  margin: auto;\n"]);return me=function(){return e},e}var ue=re.a.div(me()),se=re.a.div(de(),(function(e){return 40-15*e.depth})),pe=function(e){var t=e.item,n=e.onExpand,a=e.onCollapse;e.depth;return t.children&&t.children.length>0?t.isExpanded?o.a.createElement(te.a,{onClick:function(){return a(t.id)},color:"primary"}):o.a.createElement(ae.a,{onClick:function(){return n(t.id)},color:"primary"}):o.a.createElement("span",null," \u2022 ")},fe=function(e){var t=e.item,n=e.depth,a=e.onExpand,r=e.onCollapse,i=e.provided;e.snapshot;return o.a.createElement(se,Object.assign({ref:i.innerRef},i.draggableProps,i.dragHandleProps,{depth:n}),o.a.createElement(pe,{item:t,onExpand:a,onCollapse:r,depth:n}),o.a.createElement(le,{itemId:t.id}))},he=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.tree})),n=function(t){e({type:I,payload:{id:t,prop:"isExpanded"}})};return o.a.createElement(ue,null,o.a.createElement(Z.a,{tree:t,renderItem:fe,isDragEnabled:!0,isNestingEnabled:!0,onCollapse:n,onExpand:n,onDragEnd:function(t,n){e(function(e,t){return{type:x,payload:{source:e,destination:t}}}(t,n))}}))},Ee=n(118),be=n.n(Ee),ve=n(119),ye=n.n(ve),Ce=Object(L.a)({root:{fontSize:"5rem"}}),Oe=function(e){var t=e.onClickAdd,n=e.onClickComplete,a=Ce();return o.a.createElement("div",null,o.a.createElement(z.a,{onClick:t},o.a.createElement(be.a,{className:a.root,color:"primary"})),o.a.createElement(z.a,{onClick:n},o.a.createElement(ye.a,{className:a.root,color:"primary"})))},ge=Object(p.a)((function(e){var t=e.children;return o.a.createElement(f.a,{variant:"h1",align:"center"},t)}))({lineHeight:"initial"}),je=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(s.a)(r,2),l=i[0],d=i[1],p=function(){return a(!n)},f=function(){return d(!l)},b=Object(m.c)(),O=function(){b({type:v}),p()},g=Object(c.useRef)(),j=function(){g.current=setInterval((function(){return b(T())}),1e3)},x=function(){clearInterval(g.current),b({type:y}),g.current=setInterval((function(){return b(T())}),1e3)},I=function(){clearInterval(g.current),p()},k=function(){clearInterval(g.current)},L=Object(h.b)(n,null,{from:{opacity:0,xy:n?[-100,0]:[100,0]},enter:{opacity:1,xy:[0,0]},leave:{opacity:0,xy:n?[50,0]:[-50,0]}}).map((function(e){var t=e.item,n=e.key,a=e.props;return o.a.createElement("div",{key:n},o.a.createElement(E.a.div,{style:Object(u.a)({},a,{transform:a.xy.to((function(e,t){return 0===e&&0===t?"none":"translate(".concat(e,"%, ").concat(t,"%)")})),position:"absolute",left:0,right:0})},t?o.a.createElement(he,null):o.a.createElement(W,null)),o.a.createElement(E.a.div,{style:{opacity:a.opacity,position:"fixed",width:"100%",textAlign:"center",bottom:"10px"}},t?o.a.createElement(Oe,{onClickAdd:f,onClickComplete:O}):o.a.createElement(Q,{onClickStart:j,onClickSkip:x,onClickStop:k,onClickReset:I})))}));return o.a.createElement("div",null,o.a.createElement(ge,null,"Training Timer"),L,o.a.createElement(A,{open:l,onClose:f,onSubmit:function(e,t){var n,a;b((n="root",a={power:t,timeLimit:e,comment:""},{type:C,payload:Object(u.a)({parentId:n},a)}))}}))},xe=function(){return o.a.createElement(je,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=n(63),Te=n(71),ke=n(42),Le={tree:{rootId:"root",items:{root:{id:"root",children:["0","1","2","3"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1},0:{id:"0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:130,comment:""}},1:{id:"1",children:["1-0","1-1"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,data:{repeat:1,count:0,comment:""}},"1-0":{id:"1-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:260,comment:""}},"1-1":{id:"1-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:260,comment:""}},2:{id:"2",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:5,power:260,comment:""}},3:{id:"3",children:["3-0","3-1","3-2"],hasChildren:!1,isExpanded:!0,isChildrenLoading:!1,data:{repeat:1,count:0,comment:""}},"3-0":{id:"3-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:150,comment:""}},"3-1":{id:"3-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:2,power:150,comment:""}},"3-2":{id:"3-2",children:["3-2-0","3-2-1"],hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,data:{repeat:1,comment:"",count:0}},"3-2-0":{id:"3-2-0",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:150,comment:""}},"3-2-1":{id:"3-2-1",children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1,data:{elapsedTime:0,timeLimit:3,power:150,comment:""}}}},timers:void 0};Le.timers={currentTimerIndex:0,timerList:Object(Te.flattenTree)(Le.tree)};var we=function(e,t){return e.slice(t+1).findIndex((function(e){return G(e.item.data)}))+t+1},Se=Object(ke.a)((function(e,t){switch(t.type){case y:e.currentTimerIndex=we(e.timerList,e.currentTimerIndex);break;case b:var n=e.currentTimerIndex,a=e.timerList[n].item;if(!G(a.data))throw new TypeError("currentTimerIndex:".concat(e.currentTimerIndex,"  indecates Section"));if(a.data.elapsedTime<a.data.timeLimit&&a.data.elapsedTime++,a.data.elapsedTime>=a.data.timeLimit){var r=we(e.timerList,n);e.currentTimerIndex=r}}}),Le.timers),Ne=n(122),De=n(23),Pe=n(52),Re={id:void 0,children:[],hasChildren:!1,isExpanded:!1,isChildrenLoading:!1},_e=function(e,t){for(var n=Object.keys(e.items).length-1,a=[],r=n;r<t+n;r++)a.push(String(r));return a},Ae=function(e,t){if("undefined"===typeof t.index)return e.items[t.parentId];var n=e.items[t.parentId].children[t.index];return e.items[n]},Me=Object(ke.a)((function(e,t){switch(t.type){case C:var n=t.payload,a=n.parentId,r=Object(Ne.a)(n,["parentId"]);!function(e,t,n){var a=_e(e,1)[0],r=Object(ke.a)(Re,(function(e){e.id=a,e.data=Object(u.a)({elapsedTime:0,comment:""},n)}));e.items[t].children.push(a),e.items[a]=r}(e,a,Object(u.a)({},r));break;case O:var i=t.payload.source,c=i.parentId,o=i.index,l=function e(t,n){return t.items[n].children.reduce((function(n,a){return t.items[a].children.length>0?n.concat(e(t,a)):[].concat(Object(De.a)(n),[a])}),[n])}(e,e.items[c].children[o]);e.items[c].children.splice(o,1);var d=!0,m=!1,s=void 0;try{for(var p,f=l[Symbol.iterator]();!(d=(p=f.next()).done);d=!0){var h=p.value;delete e.items[h]}}catch(z){m=!0,s=z}finally{try{d||null==f.return||f.return()}finally{if(m)throw s}}break;case g:var E=t.payload,b=E.editItemId,v=E.data,y=e.items[b].data,T=Object(u.a)({},y,{},v);if(!G(T))throw new TypeError("data:".concat(JSON.stringify(T)," must be TimerTreeItemData"));e.items[b].data=T;break;case j:var k=t.payload,L=k.editItemId,w=k.data,S=e.items[L].data,N=Object(u.a)({},S,{},w);if(!M(N))throw new TypeError("data:".concat(JSON.stringify(w)," must be SectionTreeItemData"));e.items[L].data=N;break;case x:var D=t.payload.source,P=t.payload.destination,R=Ae(e,P);if(!P)break;if("undefined"===typeof P.index&&G(R.data)){!function(e,t,n){var a=Ae(e,n),r=Ae(e,t),i=_e(e,1)[0],c=Object(u.a)({},Re,{id:i,data:{repeat:1,count:0,comment:""},children:[a.id,r.id]}),o=Object.values(e.items).find((function(e){return e.children.some((function(e){return e===a.id}))})),l={parentId:o.id,index:o.children.findIndex((function(e){return e===a.id}))};e.items[t.parentId].children.splice(t.index,1),e.items[l.parentId].children.splice(l.index,1,i),e.items[i]=c}(e,D,P);break}return Object(Pe.c)(e,D,P);case I:var _=t.payload,A=_.id,J=_.prop,W=e.items[A][J];e.items[A][J]=!W}})),Ge=Object(ke.a)((function(e,t){switch(t.type){case v:e.timers.timerList=Object(Te.flattenTree)(e.tree);break;default:e.timers=Se(e.timers,t),e.tree=Me(e.tree,t)}}),Le),Je=Object(Ie.b)(Ge),We=Object(a.a)({palette:{primary:{main:"#f55333"},secondary:{main:"#062457"}}});We=Object(r.a)(We);d.a.render(o.a.createElement((function(){return o.a.createElement(m.a,{store:Je},o.a.createElement(i.a,{theme:We},o.a.createElement(xe,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[134,1,2]]]);
//# sourceMappingURL=main.5c9f4441.chunk.js.map